(function(){function e(){if(!this instanceof e)return new e;else this._callbacks={Predicates:[]}}function f(b,c){for(var a in c)try{b[a]=c[a].constructor==Object?f(b[a],c[a]):c[a]}catch(d){b[a]=c[a]}return b}e.prototype={_defaultOptions:{},Subscribe:function(b,c,a,d){f(a,this._defaultOptions);d===void 0&&(d=window);this._callbacks[b]||(this._callbacks[b]=[]);this._callbacks[b].push({fn:c,context:d,options:a})},Remove:function(b,c){if(this._callbacks[b])if(c)for(var a in this._callbacks[b])this._callbacks[b][a].fn==
c&&this._callbacks[b].splice(a,1);else this._callbacks[b]=[]},Publish:function(b){var c=Array.prototype.slice.call(arguments,1),a;if(b!==void 0&&this._callbacks[b])for(var d in this._callbacks[b])a=this._callbacks[b],a.hasOwnProperty(d)&&(a=a[d],a.options!==void 0&&typeof a.options.predicate=="function"?a.options.predicate.apply(a.context,c)&&a.fn.apply(a.context,c):a.fn.apply(a.context,c))}};window.Mediator=e})(window); 
